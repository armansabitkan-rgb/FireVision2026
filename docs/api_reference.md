# FireVision API Reference (v2.1)

Документация описывает REST API и MQTT-топики для интеграции бэкенда FireVision с внешними сервисами, мобильными клиентами и пультами МЧС.

## 1. Архитектура обмена данными
Система использует два протокола для обеспечения отказоустойчивости и минимальной задержки:
* **MQTT**: Для мгновенной потоковой передачи телеметрии и экстренных сигналов (Push-модель).
* **REST API (HTTP/JSON)**: Для клиентских запросов к историческим базам данных и текущим статусам (Pull-модель).

## 2. Поток обнаружения аномалий (MQTT)
Спутниковый модуль (или Edge-сервер) публикует сообщение сразу после успешной классификации пожара нейросетью.

* **Топик:** `firevision/alerts/realtime`
* **QoS (Quality of Service):** 2 (Exactly once)

**Payload (Пример JSON):**
```json
{
  "incident_id": "FV-2026-8891",
  "timestamp": "2026-02-27T14:45:00Z",
  "coordinates": {
    "lat": 48.0196,
    "lon": 66.9237
  },
  "ai_metrics": {
    "model": "YOLOv8-Seg",
    "confidence": 0.96,
    "estimated_area_ha": 15.2
  },
  "weather_context": {
    "wind_speed_kmh": 12,
    "wind_direction": "NW"
  }
}
