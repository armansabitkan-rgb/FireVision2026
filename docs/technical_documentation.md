# Техническая документация: FireVision v2.1

## 1. Введение
Проект **FireVision** направлен на решение критической проблемы задержки обнаружения лесных пожаров. Использование традиционных методов (наземное патрулирование, сообщения от граждан) дает задержку в 3-6 часов. Система FireVision сокращает это время до **10-15 минут** за счет автоматизированного анализа спутниковых данных нейросетями.

## 2. Архитектура системы
Система построена на гибридной модели распределенных вычислений:

* **Data Source**: Получение мультиспектральных снимков со спутников (Landsat-8, Sentinel-2) через специализированные API.
* **Edge Processing**: Первичная фильтрация шумов и выделение потенциально опасных сегментов изображения.
* **AI Inference Layer**: Облачный сервер (FastAPI/Python), выполняющий детекцию объектов (YOLOv8) и семантическую сегментацию (U-Net).
* **Communication Protocol**: Передача результатов анализа в формате **JSON** через брокер сообщений **MQTT** для обеспечения минимальной задержки.
* **Visualization Layer**: Интерактивный 3D-интерфейс на базе **Three.js** для оперативного мониторинга и принятия решений.

## 3. Алгоритм обработки и детекции

### 3.1 Нейросетевая модель
Для верификации данных используется ансамбль моделей:
1.  **YOLOv8**: Высокоскоростная локализация температурных аномалий.
2.  **Teachable Machine (TensorFlow.js)**: Интеграция для мгновенной классификации снимков непосредственно в браузере клиента.

### 3.2 Симуляция (Клеточный автомат)
В модуле `Scenario Lab` реализована математическая модель распространения огня. Состояние каждой клетки сетки $S_{x,y}$ обновляется каждую итерацию по алгоритму, учитывающему физические факторы:

$$P(ignite) = (P_{base} \cdot W_{speed} \cdot W_{dir}) \cdot (T_{temp} / H_{humidity})$$

Где:
* **$W_{dir}$**: Скалярное произведение вектора ветра и вектора направления к соседней клетке.
* **$P_{base}$**: Коэффициент горючести типа подстилающей поверхности (лес, степь, кустарник).

## 4. Геолокация и Картография
Преобразование координат пикселей снимка в географические координаты (WGS84) выполняется с помощью **аффинных преобразований**.
Для отрисовки радарных точек на 3D-сфере используется перевод сферических координат в декартовы:
* $x = R \cdot \cos(\phi) \cdot \cos(\theta)$
* $y = R \cdot \sin(\phi)$
* $z = R \cdot \cos(\phi) \cdot \sin(\theta)$

## 5. Стек технологий
| Уровень | Технология |
| :--- | :--- |
| **Backend** | Python 3.10, FastAPI |
| **Machine Learning** | PyTorch, TensorFlow.js |
| **Frontend** | Three.js (WebGL), JavaScript (ES6+) |
| **Data Format** | JSON, GeoJSON |
| **Cloud/DevOps** | GitHub Pages, Docker |

## 6. Ограничения системы
* **Оптический барьер**: Эффективность системы снижается при плотной облачности более 70% (требуется интеграция с SAR-данными).
* **Аппаратные требования**: Для корректного рендеринга 3D-глобуса необходима поддержка WebGL 2.0 на устройстве оператора.

## 7. Возможности масштабирования
1.  **Multi-spectral Fusion**: Совмещение данных видимого диапазона с данными инфракрасных (ИК) датчиков для работы сквозь дым.
2.  **Autonomous Alerts**: Автоматическая отправка уведомлений через Telegram API и SMS-шлюзы при подтверждении угрозы.
3.  **Predictive Analysis**: Обучение предиктивных моделей на исторических данных для выделения зон риска за 48 часов до возможного возгорания.
